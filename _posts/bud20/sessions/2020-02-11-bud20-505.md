---
categories:
- bud20
description: Testing interrupt handling scenarios in TF-M is an important thing as
  secure/non-secure interrupts preempting secure/non-secure Thread mode in any combination,
  and having 2 independent schedulers (one on secure and one on non-secure side) makes
  interrupt handling a non-trivial task.<br><br>Creating test cases that run on the
  device under test is challenging, as there are limited number of peripherals that
  can be easily set up to trigger interrupts (these are basically the timer peripherals),
  and make those interrupts to trigger at a certain point of execution is even more
  challenging.<br><br>In this presentation I present a script utility that can be
  run inside a debugger, and that can trigger interrupts via NVIC registers at configurable
  points during execution, based on some configuration files.<br><br>The utility is
  not TF-M specific, can be used with any SW that can benefit from testing with IRQs
  triggered in NVIC.<br><br>The tool currently in proof-of-concept state internally
  for Arm Development Studio debugger, but we have plans to make a version that runs
  in GDB.<br><br>Possible topics to be covered (some might be dropped, based on how
  interesting (and long) other topic will turn out):<br>- Limitations of the current
  (upstream) tests<br>- The concept of the tool (description, basic diagrams)<br>-
  benefits over the current method, applicability in CI<br>- Implementation details<br>-
  Input file formats<br>- class hierarchy, debugger abstraction, integrating in the
  debugger<br>- Comparing scripting capabilities of Arm-DS and GDB debugger<br>- Demo
  (or presenting sample output)
image:
  featured: 'true'
  path: https://static.linaro.org/connect/bud20/images/BUD20-505.png
session_id: BUD20-505
session_speakers:
- speaker_bio: Mate is a software engineer at Arm. He has been working as a software
    engineer for over 10 years, developing software for environments ranging from
    telecom servers through windows desktop applications to IoT devices. Currently
    he is a maintainer of the Trusted Firmware-M open source project.<br />
  speaker_company: Arm Limited
  speaker_image: http://avatars.sched.co/5/8b/10468663/avatar.jpg.320x320px.jpg?a95
  speaker_name: Mate Toth-Pal
  speaker_position: Senior Software Engineer
  speaker_role: attendee, speaker
session_track: IoT and Embedded
tag: session
tags: IoT and Embedded
title: BUD20-505 - BUD20-505 Automation of testing complex interrupt scenarios in
  TF-M
---